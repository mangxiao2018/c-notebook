# 忽略语法细节，从整体上理解函数

从整体上看，C语言代码是由一个一个的函数构成的，除了定义和说明类的语句（例如变量定义、宏定义、类型定义等）可以放在函数外面，所有具有运算或逻辑处理能力的语句（例如加减乘除、[if else](http://c.biancheng.net/c/if_else/)、for、函数调用等）都要放在函数内部。

例如，下面的代码就是错误的：

```c
#include <stdio.h>
int a = 10;
int b = a + 20;
int main(){
    return 0;
}
```

`int b = a + 20;`是具有运算功能的语句，要放在函数内部。

但是下面的代码就是正确的：

```c
#include <stdio.h>
int a = 10;
int b = 10 + 20;
int main(){
    return 0;
}
```

`int b = 10 + 20;`在编译时会被优化成`int b = 30;`，消除加法运算。

在所有的函数中，main() 是入口函数，有且只能有一个，C语言程序就是从这里开始运行的。

C语言不但提供了丰富的库函数，还允许用户定义自己的函数。每个函数都是一个可以重复使用的模块，通过模块间的相互调用，有条不紊地实现复杂的功能。可以说，C程序的全部工作都是由各式各样的函数完成的，函数就好比一个一个的零件，组合在一起构成一台强大的机器。

标准C语言（[ANSI C](http://c.biancheng.net/view/vip_1742.html)）共定义了15 个头文件，称为“C标准库”，所有的编译器都必须支持，如何正确并熟练的使用这些标准库，可以反映出一个程序员的水平。

```c
合格程序员：<stdio.h>、<ctype.h>、<stdlib.h>、<string.h>
熟练程序员：<assert.h>、<limits.h>、<stddef.h>、<time.h>
优秀程序员：<float.h>、<math.h>、<error.h>、<locale.h>、<setjmp.h>、<signal.h>、<stdarg.h>
```


以上各类函数不仅数量众多，而且有的还需要硬件知识才能使用，初学者要想全部掌握得需要一个较长的学习过程。我的建议是先掌握一些最基本、最常用的函数，在实践过程中再逐步深入。由于课时关系，本教程只介绍了很少一部分库函数，其余部分读者可根据需要查阅C语言函数手册，网址是 [http://www.cplusplus.com](http://www.cplusplus.com/reference/clibrary/)。

还应该指出的是，C语言中所有的函数定义，包括主函数 main() 在内，都是平行的。也就是说，在一个函数的函数体内，不能再定义另一个函数，即不能嵌套定义。但是函数之间允许相互调用，也允许嵌套调用。习惯上把调用者称为主调函数，被调用者称为被调函数。函数还可以自己调用自己，称为递归调用。

main() 函数是主函数，它可以调用其它函数，而不允许被其它函数调用。因此，C程序的执行总是从 main() 函数开始，完成对其它函数的调用后再返回到 main() 函数，最后由 main() 函数结束整个程序。